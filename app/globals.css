@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Brand background layers ---- */
:root {
  --brand-800: #5a0f18;
  --brand-900: #4b0c14;
  --brand-bg-1: #5a0f18;  /* lighter maroon */
  --brand-bg-2: #420b12;  /* deeper shade */
}

@layer base {
  html, body, #__next, :root {
    min-height: 100%;
  }

  /* Page background: gentle vertical gradient */
  body {
    /* rich maroon – not black */
    background:
      radial-gradient(1200px 900px at 20% 15%, var(--brand-800) 0%, var(--brand-900) 75%),
      linear-gradient(180deg, var(--brand-800) 0%, var(--brand-900) 100%);
    color: #f2eae7; /* brand.bone */
    @apply font-sans antialiased;
  }

  * {
    backface-visibility: hidden;
  }
}

/* ---- Subtle FX (no flashing) ---- */
@keyframes fx-drift {
  0%   { transform: translate3d(0, 0, 0) scale(1); }
  50%  { transform: translate3d(2%, -1%, 0) scale(1.03); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}

@keyframes fx-sway {
  0%   { transform: translate3d(0, 0, 0) rotate(0deg); }
  100% { transform: translate3d(-1%, 1%, 0) rotate(360deg); }
}

/* Grain texture (SVG data URI) */
@keyframes fx-grain {
  0% { transform: translate3d(0,0,0) }
  100% { transform: translate3d(-10%, -10%, 0) }
}

.fx-root {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* keep below content */
}

/* Two slow drifting radial blobs */
.fx-blob {
  position: absolute;
  border-radius: 9999px;
  filter: blur(60px);
  opacity: 0.08;              /* very subtle */
  mix-blend-mode: screen;
  animation: fx-drift 40s ease-in-out infinite;
  will-change: transform;
}

.fx-blob--1 {
  width: 40vw; height: 40vw;
  left: -10vw; top: -10vw;
  background: radial-gradient(closest-side, #c14d5f 0%, transparent 70%);
}

.fx-blob--2 {
  width: 45vw; height: 45vw;
  right: -15vw; bottom: -15vw;
  background: radial-gradient(closest-side, #8a2433 0%, transparent 70%);
  animation-duration: 55s;
}

/* Ultra-subtle grain layer */
.fx-grain {
  position: absolute;
  inset: -20%;
  opacity: 0.06;
  background-image:
    url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'>\
        <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter>\
        <rect width='100%' height='100%' filter='url(%23n)' opacity='0.6'/>\
      </svg>");
  background-size: 200px 200px;
  mix-blend-mode: soft-light;
  animation: fx-grain 60s linear infinite;
}

/* Reduce motion: keep the nicer color but stop movement */
@media (prefers-reduced-motion: reduce) {
  .fx-blob, .fx-grain { animation: none !important; }
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
  body::before, body::after { animation: none !important; }
}

/* Keyframes for gentle drift */
@keyframes driftSlow {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(2%, -1%, 0) scale(1.03); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}
@keyframes driftSlower {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(-1.5%, 1%, 0) scale(1.04); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}
@keyframes grainPan {
  0% { transform: translate3d(0,0,0) }
  100% { transform: translate3d(-10%, -10%, 0) }
}

/* Layer 1 – subtle blob */
body::before {
  content: '';
  position: fixed;
  inset: -10%;
  z-index: -1;
  pointer-events: none;
  background: radial-gradient(closest-side, rgba(200, 85, 99, 0.10) 0%, rgba(0,0,0,0) 70%);
  width: 55vw;
  height: 55vw;
  top: -10vw;
  left: -10vw;
  filter: blur(70px);
  animation: driftSlow 45s ease-in-out infinite;
  will-change: transform;
}

/* Layer 2 – second blob */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background: radial-gradient(closest-side, rgba(147, 42, 55, 0.10) 0%, rgba(0,0,0,0) 72%);
  width: 60vw;
  height: 60vw;
  bottom: -18vw;
  right: -16vw;
  filter: blur(80px);
  animation: driftSlower 60s ease-in-out infinite;
  will-change: transform;
}

/* Optional: ultra-subtle grain layer (mount once in layout) */
.fx-grain {
  position: fixed;
  inset: -20%;
  z-index: -1;
  pointer-events: none;
  opacity: 0.05;
  mix-blend-mode: soft-light;
  background-image:
    url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'>\
        <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter>\
        <rect width='100%' height='100%' filter='url(%23n)' opacity='0.7'/>\
      </svg>");
  background-size: 220px 220px;
  animation: grainPan 75s linear infinite;
}
